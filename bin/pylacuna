#!/usr/bin/env python

import argparse
from pylacuna.game import Game

DESC = '''
DESCRIPTION
tbd

OUTPUT
tbd

NOTES
tbd
'''


def parse_args():
    parser = argparse.ArgumentParser(
        description=DESC,
        formatter_class=argparse.RawTextHelpFormatter)
    parser.add_argument('-u', '--user', help="Username")
    parser.add_argument('-p', '--password', help="Password")
    subparsers = parser.add_subparsers(
        dest='command',
        help='sub-command help')

    # Create subparser for upgrade command
    upgrade_cmd = subparsers.add_parser(
        'upgrade', help='Upgrade various things on a body')
    upgrade_cmd.add_argument('body', help='Name of body')

    # Create subparser for build command
    build_cmd = subparsers.add_parser(
        'build',
        help=("Build stuff on a body"))

    # Create subparser for build command
    test_cmd = subparsers.add_parser(
        'test',
        help=("Work in progress test code"))

    args = parser.parse_args()
    return args


def main():
    args = parse_args()
    print args
    if args.command == 'upgrade':
        print "Upgrade function"
    if args.command == 'upgrade':
        print "Upgrade function"
    if args.command == 'test':
        Game().run()

if __name__ == '__main__':
    main()
